package fr.swynn;import fr.swynn.commands.DelHomeCommand;import fr.swynn.commands.HomeCommand;import fr.swynn.commands.SetHomeCommand;import fr.swynn.commands.completer.HomeCompleter;import fr.swynn.core.data.HomeRepository;import fr.swynn.core.data.HomeService;import fr.swynn.core.impl.MinecraftHomeRepository;import fr.swynn.core.impl.MinecraftHomeService;import org.bukkit.plugin.java.JavaPlugin;public class HomeAndTPA extends JavaPlugin {    // The singleton instance of the plugin    private static HomeAndTPA instance;    // The repository for managing homes persistence operations    private HomeRepository homeRepository;    // The service for managing player homes    private HomeService homeService;    /**     * {@inheritDoc}     */    @Override    public void onEnable() {        // Initialize the singleton instance        instance = this;        // Initialize the repository and the service        homeRepository = new MinecraftHomeRepository();        final var homes = homeRepository.getAllHomes();        homeService = new MinecraftHomeService(homes);        // Initialize spigot stuff        registerCommands();    }    /**     * Register all the commands.     */    private void registerCommands() {        getLogger().info("Registering commands...");        getCommand("sethome")                .setExecutor(new SetHomeCommand());        getCommand("home")                .setExecutor(new HomeCommand());        getCommand("home")                .setTabCompleter(new HomeCompleter());        getCommand("delhome")                .setExecutor(new DelHomeCommand());        getCommand("delhome")                .setTabCompleter(new HomeCompleter());        getLogger().info("Commands registered");    }    /**     * {@inheritDoc}     */    @Override    public void onDisable() {        saveHomes();    }    /**     * Save all the homes.     */    private void saveHomes() {        getLogger().info("Saving homes...");        final var homes = homeService.getAllHomes();        homeRepository.saveAllHomes(homes);        getLogger().info("Homes saved");    }    /**     * Get the singleton instance of the plugin.     * @return The plugin instance     */    public static HomeAndTPA getInstance() {        return instance;    }    /**     * Get the service for managing player homes.     * @return The home service     */    public HomeService getHomeService() {        return homeService;    }}